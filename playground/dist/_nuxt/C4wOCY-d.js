import{r as y,o as O,J as c,R as z,G as V,K as q,_ as A,a as t,c as s,d,n as f,f as D,j as v,t as F,F as p,b as I,e as R,h as X,q as j,l as G}from"./B-NeRa6q.js";const J={inheritAttrs:!1,emits:["init","onClose"],props:{id:{type:String,required:!0},size:{type:String,default:"md"},elevation:{type:Boolean,default:!0},icon:{type:String,default:null},actions:{type:Array,default:[]},headerless:{type:Boolean,default:!1}},setup(i,{emit:b}){var C;const l=y(!1),n=y(!1),m=y(!1),u=y(""),h=((C=V().public.ui)==null?void 0:C.icon)=="tabler"?"ti-x":"hgi-cancel-01";let _;const r=async o=>{var x,B;if(await q(),i.id==o.id){n.value=!0;const k=typeof(o==null?void 0:o.params)=="string";u.value=k?o==null?void 0:o.params:((x=o==null?void 0:o.params)==null?void 0:x.title)??"Untitled",_=k?null:((B=o==null?void 0:o.params)==null?void 0:B.callback)??null,setTimeout(()=>{var a;l.value=!0,b("init",{title:u.value,data:k?{}:(a=o==null?void 0:o.params)==null?void 0:a.data})},1),document.body.style.overflow="hidden",document.onkeydown=a=>{(a.key=="Escape"||a.key=="Esc"&&l.value)&&(a.preventDefault(),z.close(i.id))}}},T=o=>{m.value=o.show},S=o=>{o.id==i.id&&(l.value=!1,setTimeout(()=>{n.value=!1},250),document.onkeydown=()=>{},document.body.style.overflow="auto")},E=o=>{u.value=o.title},N=o=>{_==null||_.call(this,o.data)};return O(()=>{c.on("__show_modal",r),c.on("__show_modal2",r),c.on("__close_modal",S),c.on("__set_modal_title",E),c.on("__callback_modal",N),c.on("__show_confirm",T)}),{modal:z,preShow:n,show:l,title:u,onClose:S,iconX:h,isConfirmOpen:m}}},K={class:"modal-content"},L={class:"modal-title text-truncate"},M={class:"modal-action"},P=["icon-tooltip","onClick"];function U(i,b,l,n,m,u){const w=G;return t(),s(p,null,[d("div",{class:f(["modal fade",{show:n.show&&!n.isConfirmOpen}]),tabindex:"-1",style:j({display:n.preShow?"block":"none"})},[d("div",{class:f(["modal-dialog modal-dialog-centered",`modal-${l.size}`]),role:"document"},[d("div",K,[l.headerless?v("",!0):(t(),s("div",{key:0,class:f(["modal-header bg-white",{"border-0":!l.elevation}])},[l.icon?(t(),D(w,{key:0,icon:`${l.icon} fix-1 me-2`},null,8,["icon"])):v("",!0),d("h5",L,F(n.title),1),d("div",M,[d("ul",null,[(t(!0),s(p,null,I([...l.actions,{icon:n.iconX,type:"close"}],(e,h)=>(t(),s(p,null,[(e==null?void 0:e.visible)??!0?(t(),s("li",{key:h,"icon-tooltip":e==null?void 0:e.tooltip,class:f([e!=null&&e.disabled?"disabled opacity-50":""]),onClick:_=>{var r;return(e==null?void 0:e.type)=="close"?n.modal.close(l.id):(r=e==null?void 0:e.click)==null?void 0:r.call(null,{...e,index:h})}},[R(w,{icon:e==null?void 0:e.icon},null,8,["icon"])],10,P)):v("",!0)],64))),256))])])],2)),X(i.$slots,"default",{},void 0,!0)])],2)],6),n.preShow?(t(),s("div",{key:0,class:f(["modal-backdrop fade",{show:n.show&&!n.isConfirmOpen}])},null,2)):v("",!0)],64)}const Q=A(J,[["render",U],["__scopeId","data-v-c70fc379"]]);export{Q as _};
