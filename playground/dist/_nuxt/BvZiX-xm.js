import{T as V,I as Y,r as M,h as S,q as G,H as R,M as J,n as Q,_ as X,o as h,c as C,u as I,t as q,z as B,a as z,b as Z,U as x,V as ee,F as te,s as ne,y as ae,C as le}from"./B4RpaFwh.js";let T;const se=(e,o,y,l,w,t)=>{var f,n;if(T=l,t=t.map(k=>k.split(":")[0]),t.includes("currency")&&w.length>=(y.maxLength==null?16:y.maxLength)&&l.preventDefault(),t.includes("phone")&&w.length>=(y.maxLength==null?15:y.maxLength)&&l.preventDefault(),(t.includes("numeric")||t.includes("currency"))&&(l.keyCode<48||l.keyCode>57)&&l.preventDefault(),t.includes("decimal")){const k=l.key,b=".";if(["Backspace","Delete","ArrowLeft","ArrowRight","Tab","Enter"].includes(k))return;const r=k===b,d=/^[0-9]$/.test(k),p=l.target.value,D=r&&p.length===0,m=p.includes(b);!d&&!(r&&!D&&!(r&&m))&&l.preventDefault()}else t.includes("alphanumeric")?(l.keyCode<48||l.keyCode>57)&&(l.keyCode<65||l.keyCode>90)&&(l.keyCode<97||l.keyCode>122)&&l.keyCode!=32&&l.keyCode!=46&&l.preventDefault():t.includes("alpha")?(l.keyCode<65||l.keyCode>90)&&(l.keyCode<97||l.keyCode>122)&&l.keyCode!=32&&l.preventDefault():t.includes("phone")&&(l.keyCode<48||l.keyCode>57)&&l.keyCode!=43&&l.keyCode!=45&&l.preventDefault();l.keyCode==13&&((n=(f=e==null?void 0:e.vnode)==null?void 0:f.props)!=null&&n.onEnter)&&o("enter",w)},oe=(e,o,y,l,w)=>{let t=y;e.forEach(f=>{const n=f.split(":");switch(n[0]){case"lower":t=t.toLowerCase();break;case"upper":t=t.toUpperCase();break;case"ucwords":t=V.ucwords(t);break;case"ucfirst":t=V.ucfirst(t);break;case"alpha":t=V.alpha(t);break;case"numeric":t=V.numeric(t).toString();break;case"alphanumeric":t=V.alphanumeric(t);break;case"currency":const b=n.length==1?",":n[1];t=V.currency(t,b),t.slice(0,1)=="0"&&t.length>1&&(t=t.substring(1));break;case"decimal":t=t.replace(/[^0-9.]/g,"");const r=t.indexOf(".");r!==-1&&(t=t.substring(0,r+1)+t.substring(r+1).replace(/\./g,"")),t.startsWith(".")&&(t=t.substring(1));const d=t.split(".");d[0]=d[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),d.length>1?t=d[0]+"."+d[1]:t=d[0];break;case"hashtag":{if(t.trim()=="")return;if((T==null?void 0:T.inputType)=="deleteContentBackward"&&t.slice(-1)=="#"){t=t.substring(0,t.length-2);return}if(t.slice(-1)=="#"){t=t.substring(0,t.length-1);return}t.replace(/#/g,"").includes(" ")?t=t.replace(/[#,]/g,"").split(" ").map(m=>m.length>0?"#"+m:m).join(" "):t="#"+t.replace(/#/g,"")}break}}),w(t)},ie=Y({inheritAttrs:!1,emits:["update:modelValue","enter","blur","focus","suffix"],props:{modelValue:{default:"",type:String},label:{type:String,default:null},hint:{type:String,default:null},type:{type:String,default:"text"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},maxLength:{type:Number,default:null},prefix:{type:String,default:null},suffixs:{type:Array,default:()=>[]},password:{type:Boolean,default:!1},minDate:{type:String,default:null},maxDate:{type:String,default:null},formatters:{type:String,default:""},nospace:{type:Boolean,default:!1},mask:{type:String,default:null}},setup(e,{emit:o}){var N;const y=()=>e.password?"password":["range"].includes(e.type)?"text":e.type,t=((N=J().public.ui)==null?void 0:N.icon)=="tabler",f=t?"ti-eye":"hgi-view",n=t?"ti-eye-off":"hgi-view-off",k=Q(),b=M(null),r=M(e.modelValue),d=M(y()),p=M(e.suffixs),D=M(!0);let m=null;const O=a=>{r.value=a.target.value},$=()=>{let i=r.value.split("/").join("/").indexOf("_");i!==-1&&setTimeout(()=>{m.setSelectionRange(i,i)},1)},E=a=>{e.mask&&e.mask.split(":")[0]=="date"&&$()},U=a=>{m=a.target,o("focus",a),e.mask&&$()},_=a=>{if(a!=null&&a._toggle){const s=p.value.findIndex(i=>i._toggle);D.value=!D.value,p.value[s]={icon:D.value?f:n,_toggle:!0}}o("suffix",a)},L=a=>{const s=p.value;if(d.value=a?"password":e.type,D.value=a,a){s.findIndex(g=>g._toggle)==-1&&p.value.push({icon:f,_toggle:!0});return}p.value=s.filter(i=>!i._toggle)},H=a=>{se(k,o,e,a,r.value,e.formatters.split("|"))},A=()=>{const a=e.mask.split(":");let s="y/m/d",i={y:"____",d:"__",m:"__"};if(a.length>1){let c=a[1];const u=c.includes("d"),v=c.includes("m"),P=c.includes("y");u&&v&&P&&(s=a[1])}return s.split("/").map(c=>i[c]).join("/")},W=(a,s)=>{const i=a.split("/"),g=s.split("/");let c=parseInt(i[g.indexOf("d")],10),u=parseInt(i[g.indexOf("m")],10);const v=parseInt(i[g.indexOf("y")],10);u=Math.min(Math.max(u,1),12);const P=new Date(v,u,0).getDate();return c=Math.min(Math.max(c,1),P),g.map(j=>{if(j==="d")return c.toString().padStart(2,"0");if(j==="m")return u.toString().padStart(2,"0");if(j==="y")return v.toString()}).join("/")},K=()=>{e.mask&&e.mask.split(":")[0]=="date"&&(r.value=A())},F=()=>{b.value&&b.value.focus()};return S(()=>e.type,()=>{d.value=y()}),S(()=>e.password,a=>{L(a)}),S(()=>e.suffixs,a=>{p.value=a,L(e.password)},{immediate:!0}),S(()=>e.modelValue,a=>{r.value=a}),S(()=>D.value,a=>{d.value=a?"password":"text"}),S(()=>r.value,a=>{if(e.mask){let s=A().split(""),i=R.numeric(a).toString(),g=0,c=i.length;for(let u=0;u<c;u++)s[u]==="/"&&c++;for(let u=0;u<s.length&&g<i.length;u++)s[u]==="_"&&(s[u]=i[g],g++);if(r.value=s.join(""),setTimeout(()=>{m==null||m.setSelectionRange(c,c)},5),!s.includes("_")){const u=e.mask.split(":");let v=u.length>1?u[1]:"y/m/d";o("update:modelValue",W(r.value,v))}return}oe(e.formatters.split("|"),o,a,e.type,s=>{o("update:modelValue",s)})}),S(()=>e.mask,()=>K()),S(()=>e.autofocus,()=>{e.autofocus&&F()}),G(()=>{L(e.password),K(),d.value=y(),e.autofocus&&F()}),{utils:R,localValue:r,inputType:d,inputSuffixs:p,input:b,onInput:O,onFocus:U,onMouseDown:E,onSuffix:_,onKeyPress:H,doFocus:F,isTabler:t}}}),ue={key:0,class:"input-icon-addon"},re=["value","type","placeholder","maxlength","required","disabled","readonly","min","max","autofocus","icon"],de={key:2,class:"suffixs"},ce=["onClick"],ye={key:0};function pe(e,o,y,l,w,t){const f=le;return h(),C("div",{class:I(["input",e.utils.on(e.disabled,"disabled")])},[e.label?(h(),C("label",{key:0,class:I(["form-label",e.utils.on(e.required,"required")])},q(e.label),3)):B("",!0),z("div",{class:I(["input-icon",{"mb-3":!e.nospace}])},[e.prefix?(h(),C("span",ue,[Z(f,{icon:e.prefix,size:"input-prefix"},null,8,["icon"])])):B("",!0),["date"].includes(e.inputType)&&(e.localValue==""||e.localValue==null)?(h(),C("div",{key:1,class:I(["date-input-placeholders",e.utils.on(!["",null].includes(e.prefix),"has-prefix"),e.utils.on(e.disabled,"disabled")])}," ----/--/-- ",2)):B("",!0),z("input",{value:e.localValue,type:e.inputType,class:I(["form-control"]),placeholder:e.hint,maxlength:e.maxLength,required:e.required,disabled:e.disabled,readonly:"readonly"in e?e.readonly:x(ee),min:e.minDate,max:e.maxDate,autofocus:e.autofocus,name:"input",autocomplete:"off",onFocus:o[0]||(o[0]=(...n)=>e.onFocus&&e.onFocus(...n)),onInput:o[1]||(o[1]=(...n)=>e.onInput&&e.onInput(...n)),onKeypress:o[2]||(o[2]=(...n)=>e.onKeyPress&&e.onKeyPress(...n)),onMousedown:o[3]||(o[3]=(...n)=>e.onMouseDown&&e.onMouseDown(...n)),ref:"input",icon:e.isTabler?"tabler":"huge"},null,40,re),e.inputSuffixs.length!=0&&!["date"].includes(e.type)?(h(),C("div",de,[(h(!0),C(te,null,ne(e.inputSuffixs,(n,k)=>(h(),C("span",{key:k,class:I([e.utils.on(n.disabled,"disabled")]),onClick:b=>e.onSuffix(n)},[n!=null&&n.kbd&&(n!=null&&n.text)?(h(),C("kbd",ye,q(n.text),1)):n!=null&&n.text?(h(),C("span",{key:1,class:I(n==null?void 0:n.class)},q(n.text),3)):n!=null&&n.icon&&!(n!=null&&n.text)?(h(),ae(f,{key:2,icon:n==null?void 0:n.icon},null,8,["icon"])):B("",!0)],10,ce))),128))])):B("",!0)],2)],2)}const fe=X(ie,[["render",pe],["__scopeId","data-v-6493a60a"]]);export{fe as _,oe as f,se as h};
