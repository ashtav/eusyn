import{r as y,q as E,Q as c,Y as B,M as N,R as O,_ as V,o as a,c as s,a as d,u as f,y as q,z as v,t as D,F as m,s as F,b as I,A as M,B as R,C as X}from"./B4RpaFwh.js";const L={inheritAttrs:!1,emits:["init","onClose"],props:{id:{type:String,required:!0},size:{type:String,default:"md"},elevation:{type:Boolean,default:!0},icon:{type:String,default:null},actions:{type:Array,default:[]},headerless:{type:Boolean,default:!1}},setup(i,{emit:b}){var C;const l=y(!1),n=y(!1),w=y(!1),u=y(""),h=((C=N().public.ui)==null?void 0:C.icon)=="tabler"?"ti-x":"hgi-cancel-01";let r;const _=async e=>{var S,x;await O(),e.id==i.id&&(n.value=!0,u.value=((S=e==null?void 0:e.params)==null?void 0:S.title)??"Untitled",r=((x=e==null?void 0:e.params)==null?void 0:x.callback)??null,setTimeout(()=>{var t;l.value=!0,b("init",{title:u.value,data:(t=e==null?void 0:e.params)==null?void 0:t.data})},1),document.body.style.overflow="hidden",document.onkeydown=t=>{(t.key=="Escape"||t.key=="Esc"&&l.value)&&(t.preventDefault(),B.close(i.id))})},z=e=>{w.value=e.show},p=e=>{e.id==i.id&&(l.value=!1,setTimeout(()=>{n.value=!1},250),document.onkeydown=()=>{},document.body.style.overflow="auto")},T=e=>{u.value=e.title},A=e=>{r==null||r.call(this,e.data)};return E(()=>{c.on("__show_modal",_),c.on("__show_modal2",_),c.on("__close_modal",p),c.on("__set_modal_title",T),c.on("__callback_modal",A),c.on("__show_confirm",z)}),{modal:B,preShow:n,show:l,title:u,onClose:p,iconX:h,isConfirmOpen:w}}},Q={class:"modal-content"},U={class:"modal-title text-truncate"},Y={class:"modal-action"},j=["icon-tooltip","onClick"];function G(i,b,l,n,w,u){const k=X;return a(),s(m,null,[d("div",{class:f(["modal fade",{show:n.show&&!n.isConfirmOpen}]),tabindex:"-1",style:R({display:n.preShow?"block":"none"})},[d("div",{class:f(["modal-dialog modal-dialog-centered",`modal-${l.size}`]),role:"document"},[d("div",Q,[l.headerless?v("",!0):(a(),s("div",{key:0,class:f(["modal-header bg-white",{"border-0":!l.elevation}])},[l.icon?(a(),q(k,{key:0,icon:`${l.icon} fix-1 me-2`},null,8,["icon"])):v("",!0),d("h5",U,D(n.title),1),d("div",Y,[d("ul",null,[(a(!0),s(m,null,F([...l.actions,{icon:n.iconX,type:"close"}],(o,h)=>(a(),s(m,null,[(o==null?void 0:o.visible)??!0?(a(),s("li",{key:h,"icon-tooltip":o==null?void 0:o.tooltip,class:f([o!=null&&o.disabled?"disabled opacity-50":""]),onClick:r=>{var _;return(o==null?void 0:o.type)=="close"?n.modal.close(l.id):(_=o==null?void 0:o.click)==null?void 0:_.call(null,{...o,index:h})}},[I(k,{icon:o==null?void 0:o.icon},null,8,["icon"])],10,j)):v("",!0)],64))),256))])])],2)),M(i.$slots,"default",{},void 0,!0)])],2)],6),n.preShow?(a(),s("div",{key:0,class:f(["modal-backdrop fade",{show:n.show&&!n.isConfirmOpen}])},null,2)):v("",!0)],64)}const J=V(L,[["render",G],["__scopeId","data-v-e9566be4"]]);export{J as _};
