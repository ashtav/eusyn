import{P as V,G as Q,r as B,h as D,q as W,H as R,L as Y,n as J,_ as X,o as k,c as C,u as w,t as q,z as M,a as z,b as Z,Q as x,R as ee,F as te,s as ne,y as ae,C as le}from"./jmQgQYln.js";let P;const se=(e,o,h,l,v,t)=>{var g,n;if(P=l,t=t.map(f=>f.split(":")[0]),t.includes("currency")&&v.length>=(h.maxLength==255?15:h.maxLength)&&l.preventDefault(),(t.includes("numeric")||t.includes("currency"))&&(l.keyCode<48||l.keyCode>57)&&l.preventDefault(),t.includes("decimal")){const f=l.key,b=".";if(["Backspace","Delete","ArrowLeft","ArrowRight","Tab","Enter"].includes(f))return;const r=f===b,d=/^[0-9]$/.test(f),p=l.target.value,S=r&&p.length===0,y=p.includes(b);!d&&!(r&&!S&&!(r&&y))&&l.preventDefault()}else t.includes("alphanumeric")?(l.keyCode<48||l.keyCode>57)&&(l.keyCode<65||l.keyCode>90)&&(l.keyCode<97||l.keyCode>122)&&l.keyCode!=32&&l.keyCode!=46&&l.preventDefault():t.includes("alpha")&&(l.keyCode<65||l.keyCode>90)&&(l.keyCode<97||l.keyCode>122)&&l.keyCode!=32&&l.preventDefault();l.keyCode==13&&((n=(g=e==null?void 0:e.vnode)==null?void 0:g.props)!=null&&n.onEnter)&&o("enter",v)},oe=(e,o,h,l,v)=>{let t=h;e.forEach(g=>{const n=g.split(":");switch(n[0]){case"lower":t=t.toLowerCase();break;case"upper":t=t.toUpperCase();break;case"ucwords":t=V.ucwords(t);break;case"ucfirst":t=V.ucfirst(t);break;case"alpha":t=V.alpha(t);break;case"numeric":t=V.numeric(t).toString();break;case"alphanumeric":t=V.alphanumeric(t);break;case"currency":const b=n.length==1?",":n[1];t=V.currency(t,b),t.slice(0,1)=="0"&&t.length>1&&(t=t.substring(1));break;case"decimal":t=t.replace(/[^0-9.]/g,"");const r=t.indexOf(".");r!==-1&&(t=t.substring(0,r+1)+t.substring(r+1).replace(/\./g,"")),t.startsWith(".")&&(t=t.substring(1));const d=t.split(".");d[0]=d[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),d.length>1?t=d[0]+"."+d[1]:t=d[0];break;case"hashtag":{if(t.trim()=="")return;if((P==null?void 0:P.inputType)=="deleteContentBackward"&&t.slice(-1)=="#"){t=t.substring(0,t.length-2);return}if(t.slice(-1)=="#"){t=t.substring(0,t.length-1);return}t.replace(/#/g,"").includes(" ")?t=t.replace(/[#,]/g,"").split(" ").map(y=>y.length>0?"#"+y:y).join(" "):t="#"+t.replace(/#/g,"")}break}}),v(t)},ie=Q({inheritAttrs:!1,emits:["update:modelValue","enter","blur","focus","suffix"],props:{modelValue:{default:"",type:String},label:{type:String,default:null},hint:{type:String,default:null},type:{type:String,default:"text"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},maxLength:{type:Number,default:255},prefix:{type:String,default:null},suffixs:{type:Array,default:()=>[]},password:{type:Boolean,default:!1},minDate:{type:String,default:null},maxDate:{type:String,default:null},formatters:{type:String,default:""},nospace:{type:Boolean,default:!1},mask:{type:String,default:null}},setup(e,{emit:o}){var N;const h=()=>e.password?"password":["range"].includes(e.type)?"text":e.type,t=((N=Y().public.ui)==null?void 0:N.icon)=="tabler",g=t?"ti-eye":"hgi-view",n=t?"ti-eye-off":"hgi-view-off",f=J(),b=B(null),r=B(e.modelValue),d=B(h()),p=B(e.suffixs),S=B(!0);let y=null;const O=a=>{r.value=a.target.value},$=()=>{let i=r.value.split("/").join("/").indexOf("_");i!==-1&&setTimeout(()=>{y.setSelectionRange(i,i)},1)},E=a=>{e.mask&&e.mask.split(":")[0]=="date"&&$()},_=a=>{y=a.target,o("focus",a),e.mask&&$()},U=a=>{if(a!=null&&a._toggle){const s=p.value.findIndex(i=>i._toggle);S.value=!S.value,p.value[s]={icon:S.value?g:n,_toggle:!0}}o("suffix",a)},T=a=>{const s=p.value;if(d.value=a?"password":e.type,S.value=a,a){s.findIndex(m=>m._toggle)==-1&&p.value.push({icon:g,_toggle:!0});return}p.value=s.filter(i=>!i._toggle)},G=a=>{se(f,o,e,a,r.value,e.formatters.split("|"))},A=()=>{const a=e.mask.split(":");let s="y/m/d",i={y:"____",d:"__",m:"__"};if(a.length>1){let c=a[1];const u=c.includes("d"),I=c.includes("m"),L=c.includes("y");u&&I&&L&&(s=a[1])}return s.split("/").map(c=>i[c]).join("/")},H=(a,s)=>{const i=a.split("/"),m=s.split("/");let c=parseInt(i[m.indexOf("d")],10),u=parseInt(i[m.indexOf("m")],10);const I=parseInt(i[m.indexOf("y")],10);u=Math.min(Math.max(u,1),12);const L=new Date(I,u,0).getDate();return c=Math.min(Math.max(c,1),L),m.map(j=>{if(j==="d")return c.toString().padStart(2,"0");if(j==="m")return u.toString().padStart(2,"0");if(j==="y")return I.toString()}).join("/")},K=()=>{e.mask&&e.mask.split(":")[0]=="date"&&(r.value=A())},F=()=>{b.value&&b.value.focus()};return D(()=>e.type,()=>{d.value=h()}),D(()=>e.password,a=>{T(a)}),D(()=>e.suffixs,a=>{p.value=a,T(e.password)},{immediate:!0}),D(()=>e.modelValue,a=>{r.value=a}),D(()=>S.value,a=>{d.value=a?"password":"text"}),D(()=>r.value,a=>{if(e.mask){let s=A().split(""),i=R.numeric(a).toString(),m=0,c=i.length;for(let u=0;u<c;u++)s[u]==="/"&&c++;for(let u=0;u<s.length&&m<i.length;u++)s[u]==="_"&&(s[u]=i[m],m++);if(r.value=s.join(""),setTimeout(()=>{y==null||y.setSelectionRange(c,c)},5),!s.includes("_")){const u=e.mask.split(":");let I=u.length>1?u[1]:"y/m/d";o("update:modelValue",H(r.value,I))}return}oe(e.formatters.split("|"),o,a,e.type,s=>{o("update:modelValue",s)})}),D(()=>e.mask,()=>K()),D(()=>e.autofocus,()=>{e.autofocus&&F()}),W(()=>{T(e.password),K(),d.value=h(),e.autofocus&&F()}),{utils:R,localValue:r,inputType:d,inputSuffixs:p,input:b,onInput:O,onFocus:_,onMouseDown:E,onSuffix:U,onKeyPress:G,doFocus:F}}}),ue={key:0,class:"input-icon-addon"},re=["value","type","placeholder","maxlength","required","disabled","readonly","min","max","autofocus"],de={key:2,class:"suffixs"},ce=["onClick"],pe={key:0};function ye(e,o,h,l,v,t){const g=le;return k(),C("div",{class:w(["input",e.utils.on(e.disabled,"disabled")])},[e.label?(k(),C("label",{key:0,class:w(["form-label",e.utils.on(e.required,"required")])},q(e.label),3)):M("",!0),z("div",{class:w(["input-icon",{"mb-3":!e.nospace}])},[e.prefix?(k(),C("span",ue,[Z(g,{icon:e.prefix,size:"input-prefix"},null,8,["icon"])])):M("",!0),["date"].includes(e.inputType)&&(e.localValue==""||e.localValue==null)?(k(),C("div",{key:1,class:w(["date-input-placeholders",e.utils.on(!["",null].includes(e.prefix),"has-prefix"),e.utils.on(e.disabled,"disabled")])}," ----/--/-- ",2)):M("",!0),z("input",{value:e.localValue,type:e.inputType,class:w(["form-control"]),placeholder:e.hint,maxlength:e.maxLength,required:e.required,disabled:e.disabled,readonly:"readonly"in e?e.readonly:x(ee),min:e.minDate,max:e.maxDate,autofocus:e.autofocus,name:"input",autocomplete:"off",onFocus:o[0]||(o[0]=(...n)=>e.onFocus&&e.onFocus(...n)),onInput:o[1]||(o[1]=(...n)=>e.onInput&&e.onInput(...n)),onKeypress:o[2]||(o[2]=(...n)=>e.onKeyPress&&e.onKeyPress(...n)),onMousedown:o[3]||(o[3]=(...n)=>e.onMouseDown&&e.onMouseDown(...n)),ref:"input",icon:"huge"},null,40,re),e.inputSuffixs.length!=0&&!["date"].includes(e.type)?(k(),C("div",de,[(k(!0),C(te,null,ne(e.inputSuffixs,(n,f)=>(k(),C("span",{key:f,class:w([e.utils.on(n.disabled,"disabled")]),onClick:b=>e.onSuffix(n)},[n!=null&&n.kbd&&(n!=null&&n.text)?(k(),C("kbd",pe,q(n.text),1)):n!=null&&n.text?(k(),C("span",{key:1,class:w(n==null?void 0:n.class)},q(n.text),3)):n!=null&&n.icon&&!(n!=null&&n.text)?(k(),ae(g,{key:2,icon:n==null?void 0:n.icon},null,8,["icon"])):M("",!0)],10,ce))),128))])):M("",!0)],2)],2)}const fe=X(ie,[["render",ye],["__scopeId","data-v-ec7f3e2c"]]);export{fe as _,oe as f,se as h};
