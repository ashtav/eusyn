import{_ as F}from"./BAvDQNjK.js";import{r as g,o as N,k as L,E as Q,u as z,_ as U,a as v,c as _,d as c,F as I,b as x,n as p,j as W,v as H,x as M,e as y,f as q,t as K,i as P}from"./Bnil-BId.js";import{_ as Y}from"./vw_tHYXN.js";import"./CVvP8Hiz.js";const O={inheritAttrs:!1,props:{modelValue:{type:Boolean,default:!1},images:{type:Array,default:()=>[]},active:{type:String,default:()=>null},actions:{type:Array,default:()=>[]},config:{type:Object,default:{min:null,max:null,loop:!1}},onDownload:Function},emits:["update:modelValue","download"],setup(a,{emit:l,attrs:f}){const s=g(a.modelValue),o=g(50),n=g(50),i=g(""),u=g(0),m=g(!1),h=g([]);let r=[10,10];const V=()=>{const t=[...new Set(a.actions)];h.value=t.filter(e=>["copy","download"].includes(e))},C=()=>({min:a.config.min??30,max:a.config.max??90}),E=()=>{w()},k=(t="in",e=0)=>{const{min:d,max:b}=C();t=="in"?(o.value+=5*e,n.value+=5*e,setTimeout(()=>{o.value>b&&n.value>b&&(o.value=b,n.value=b)},100)):(o.value-=5*e,n.value-=5*e,setTimeout(()=>{o.value<d&&n.value<d&&(o.value=d,n.value=d)},100))},S=t=>{if(!s)return;if(m.value){const d=document.getElementById("list_image__");d&&(t.deltaY>0?d.scrollLeft+=30:d.scrollLeft-=30);return}const e=Math.abs(t.deltaY)/50;t.deltaY<0?k("in",e):k("out",e)},w=()=>{const{min:t}=C(),e=new Image;e.src=i.value,e.onload=()=>{o.value=e.naturalWidth/window.innerWidth*100,n.value=e.naturalWidth/window.innerWidth*100,o.value>90&&(o.value=90),n.value>90&&(n.value=90),o.value<t&&(o.value=t),n.value<t&&(n.value=t),`${r}`==`${[o.value,n.value]}`&&(o.value=o.value*.9,n.value=o.value*.9),r=[o.value,n.value]}},j=t=>{const e=document.getElementById(`image___${t}`);e&&e.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})},A=t=>{var d;const e=((d=a.config)==null?void 0:d.loop)??!1;t==0?u.value>0?u.value--:e&&(u.value=a.images.length-1):u.value<a.images.length-1?u.value++:e&&(u.value=0),i.value=a.images[u.value],w(),j(u.value)},$=()=>{l("update:modelValue",!1)},T=t=>{switch(t){case"copy":z.copy(i.value,"Image url/path has been copied.");break;case"download":if(!(a!=null&&a.onDownload))return z.downloadFile(i.value);l("download",i.value);break}},B=t=>{u.value=t,i.value=a.images[t],w(),j(t)},D=(t=!0)=>{if(!t)return document.onkeydown=null;document.onkeydown=e=>{(e.key=="Escape"||e.key=="Esc")&&s.value&&(e.preventDefault(),s.value=!1,l("update:modelValue",!1)),(e.key==="ArrowLeft"||e.key==="ArrowRight")&&(e.preventDefault(),A(e.key==="ArrowLeft"?0:1)),(e.key==="ArrowUp"||e.key==="ArrowDown")&&(e.preventDefault(),k(e.key==="ArrowUp"?"in":"out",10))}};return N(()=>{V(),window.addEventListener("wheel",S),D()}),L(()=>a.actions,t=>{V()}),L(()=>a.modelValue,t=>{if(s.value=t,o.value=10,n.value=10,D(t),t&&a.images.length!=0){i.value=a.active??a.images[0],w();const e=a.images.findIndex(d=>d==a.active);u.value=e<0?0:e}document.body.style.overflow=t?"hidden":"auto"}),{localValue:s,currentIndex:u,width:o,height:n,imageUrl:i,isCursorInImageList:m,actionsControl:h,resizeToDefault:E,onAction:T,adjustSize:S,updateImageSize:w,onNavigate:A,close:$,onSelectImage:B,imageStyle:Q(()=>({backgroundImage:`url('${i.value}')`,width:`${o.value}%`,height:`${n.value}%`}))}}},X=a=>(H("data-v-5af78d01"),a=a(),M(),a),G={class:"controls"},R=["onClick"],Z=X(()=>c("i",{class:"ti ti-x"},null,-1)),J=[Z],ee={class:"navigator"},te=["onClick"],ae={id:"list_image__"},oe=["onClick","id"],ie=["src"];function ne(a,l,f,s,o,n){return v(),_("div",{class:p(["image-viewer",{show:f.modelValue}])},[c("div",G,[(v(!0),_(I,null,x(s.actionsControl,i=>(v(),_("span",{onClick:u=>s.onAction(i)},[c("i",{class:p(`ti ti-${i}`)},null,2)],8,R))),256)),c("span",{onClick:l[0]||(l[0]=(...i)=>s.close&&s.close(...i))},J)]),c("div",ee,[(v(),_(I,null,x(["left","right"],(i,u)=>{var m;return c("span",{onClick:h=>s.onNavigate(u),class:p([i,{disabled:[s.currentIndex<1,s.currentIndex>=f.images.length-1][u]&&!((m=f.config)!=null&&m.loop)}])},[c("i",{class:p([`ti ti-chevron-${i}`])},null,2)],10,te)}),64))]),c("div",{class:"list-images",onMouseenter:l[1]||(l[1]=i=>s.isCursorInImageList=!0),onMouseleave:l[2]||(l[2]=i=>s.isCursorInImageList=!1)},[c("ul",ae,[(v(!0),_(I,null,x(f.images,(i,u)=>(v(),_("li",{class:p({active:i==s.imageUrl}),onClick:m=>s.onSelectImage(u),id:`image___${u}`},[c("img",{src:i,alt:""},null,8,ie)],10,oe))),256))])],32),c("div",{class:"image",style:W(s.imageStyle),onDblclick:l[3]||(l[3]=(...i)=>s.resizeToDefault&&s.resizeToDefault(...i))},null,36)],2)}const le=U(O,[["render",ne],["__scopeId","data-v-5af78d01"]]),se={setup(){return{}},data(){return{show:!1,image:"",images:["https://i.imgur.com/5fQUPDl.jpg","https://i.pinimg.com/736x/47/d0/78/47d078d78349f94ed6bcba7d8e6a52a3.jpg","https://i.pinimg.com/736x/ce/3d/59/ce3d59b29d80c6fa2f8917d9c573e90e.jpg","https://img.freepik.com/premium-photo/artificial-intelligence-head-portrait-with-intricate-parts-robotical-cyborg-futuristic-design-generative-ai_751108-3169.jpg","https://cms.interiorcompany.com/wp-content/uploads/2024/01/use-a-home-decor-plant-stand.jpg","https://www.enjpg.com/img/2020/plant-aesthetic-1.jpg","https://www.buyourobot.com/wp-content/uploads/edd/2015/09/00472_pilot_thumb.jpg","https://www.thespruce.com/thmb/SnV1FLWFPQcXIlTpqFb7qLvXh94=/1500x0/filters:no_upscale():max_bytes(150000):strip_icc()/240939984_567294274624239_6535843150405942130_n-78f13e590e4d46a0a5e4e5e00dadc237.jpg","https://media.istockphoto.com/id/627373186/photo/abstract-smooth-round-pebbles-sea-texture-background.jpg?s=612x612&w=0&k=20&c=-wU1H9tqb7HQElvrzo1hjeQK1G6rdgbFU6aHQZKuArU=","https://i.pinimg.com/736x/98/96/a2/9896a23312be258e4bb0bc464d47d4d7.jpg"]}},methods:{view(a){this.image=this.images[a],this.show=!0},download(a){console.log("downloading... ",a)}}},ce={class:"row"},ue={class:"col-lg-6"},de={class:"mb-0"},me={class:"mb-5"},re={class:"album mb-3"},ge={class:"body"},ve=["src"],_e={class:"small-images"},fe=["src"],he=["src"];function we(a,l,f,s,o,n){const i=F,u=P,m=Y,h=le;return v(),_("div",null,[y(i,{title:"Image Viewer"}),c("div",ce,[c("div",ue,[c("h4",de,[y(u,{icon:"ti-album",class:"me-1"}),q(" Album ")]),c("p",me,K(o.images.length)+" images are available, click one of these images to show image viewer. ",1),c("div",re,[c("div",ge,[c("img",{src:o.images[0],alt:"",onClick:l[0]||(l[0]=r=>n.view(0)),lazy:""},null,8,ve),c("div",_e,[c("img",{src:o.images[1],alt:"",onClick:l[1]||(l[1]=r=>n.view(1)),lazy:""},null,8,fe),c("img",{src:o.images[2],alt:"",onClick:l[2]||(l[2]=r=>n.view(2)),lazy:""},null,8,he)])])]),y(m,{class:"mt-2 mb-5",code:'<ImageViewer v-model="show" :images="images" :active="image" :actions="[]" :config="{ max: 250, loop: true }" />'})])]),y(h,{modelValue:o.show,"onUpdate:modelValue":l[3]||(l[3]=r=>o.show=r),images:o.images,active:o.image,actions:["download","copy"],config:{max:250,loop:!0}},null,8,["modelValue","images","active"])])}const Ie=U(se,[["render",we],["__scopeId","data-v-e7ae394a"]]);export{Ie as default};
