import{r as h,o as N,I as c,R as z,E as O,J as V,_ as A,a as t,c as s,d as i,n as f,y as D,x as v,t as F,F as p,b as R,e as X,l as j,j as q,i as J}from"./DBlPRTKW.js";const L={inheritAttrs:!1,emits:["init","onClose"],props:{id:{type:String,required:!0},size:{type:String,default:"md"},elevation:{type:Boolean,default:!0},icon:{type:String,default:null},actions:{type:Array,default:[]},headerless:{type:Boolean,default:!1}},setup(d,{emit:b}){var C;const l=h(!1),n=h(!1),m=h(!1),u=h(""),y=((C=O().public.ui)==null?void 0:C.icon)=="tabler"?"ti-x":"hgi-cancel-01";let _;const r=async o=>{var x,B;if(await V(),d.id==o.id){n.value=!0;const k=typeof(o==null?void 0:o.params)=="string";u.value=k?o==null?void 0:o.params:((x=o==null?void 0:o.params)==null?void 0:x.title)??"Untitled",_=k?null:((B=o==null?void 0:o.params)==null?void 0:B.callback)??null,setTimeout(()=>{var a;l.value=!0,b("init",{title:u.value,data:k?{}:(a=o==null?void 0:o.params)==null?void 0:a.data})},1),document.body.style.overflow="hidden",document.onkeydown=a=>{(a.key=="Escape"||a.key=="Esc"&&l.value)&&(a.preventDefault(),z.close(d.id))}}},E=o=>{m.value=o.show},S=o=>{o.id==d.id&&(l.value=!1,setTimeout(()=>{n.value=!1},250),document.onkeydown=()=>{},document.body.style.overflow="auto")},T=o=>{u.value=o.title},I=o=>{_==null||_.call(this,o.data)};return N(()=>{c.on("__show_modal",r),c.on("__show_modal2",r),c.on("__close_modal",S),c.on("__set_modal_title",T),c.on("__callback_modal",I),c.on("__show_confirm",E)}),{modal:z,preShow:n,show:l,title:u,onClose:S,iconX:y,isConfirmOpen:m}}},M={class:"modal-content"},P={class:"modal-title text-truncate"},U={class:"modal-action"},G=["icon-tooltip","onClick"];function H(d,b,l,n,m,u){const w=J;return t(),s(p,null,[i("div",{class:f(["modal fade",{show:n.show&&!n.isConfirmOpen}]),tabindex:"-1",style:q({display:n.preShow?"block":"none"})},[i("div",{class:f(["modal-dialog modal-dialog-centered",`modal-${l.size}`]),role:"document"},[i("div",M,[l.headerless?v("",!0):(t(),s("div",{key:0,class:f(["modal-header bg-white",{"border-0":!l.elevation}])},[l.icon?(t(),D(w,{key:0,icon:`${l.icon} fix-1 me-2`},null,8,["icon"])):v("",!0),i("h5",P,F(n.title),1),i("div",U,[i("ul",null,[(t(!0),s(p,null,R([...l.actions,{icon:n.iconX,type:"close"}],(e,y)=>(t(),s(p,null,[(e==null?void 0:e.visible)??!0?(t(),s("li",{key:y,"icon-tooltip":e==null?void 0:e.tooltip,class:f([e!=null&&e.disabled?"disabled opacity-50":""]),onClick:_=>{var r;return(e==null?void 0:e.type)=="close"?n.modal.close(l.id):(r=e==null?void 0:e.click)==null?void 0:r.call(null,{...e,index:y})}},[X(w,{icon:e==null?void 0:e.icon},null,8,["icon"])],10,G)):v("",!0)],64))),256))])])],2)),j(d.$slots,"default",{},void 0,!0)])],2)],6),n.preShow?(t(),s("div",{key:0,class:f(["modal-backdrop fade",{show:n.show&&!n.isConfirmOpen}])},null,2)):v("",!0)],64)}const Q=A(L,[["render",H],["__scopeId","data-v-c70fc379"]]);export{Q as _};
