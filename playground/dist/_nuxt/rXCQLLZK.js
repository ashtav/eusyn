import{r as h,q as V,U as f,V as C,L as A,_ as E,o as s,c,a as d,u as _,t as N,F as v,s as T,b as q,z as y,A as D,B as F,C as I}from"./jmQgQYln.js";const L={inheritAttrs:!1,emits:["init","onClose"],props:{id:{type:String,required:!0},size:{type:String,default:"md"},elevation:{type:Boolean,default:!0},actions:{type:Array,default:[]},headerless:{type:Boolean,default:!1}},setup(i,{emit:p}){var w;const n=h(!1),l=h(!1),u=h(""),o=((w=A().public.ui)==null?void 0:w.icon)=="tabler"?"ti-x":"hgi-cancel-01";let a;const k=e=>{var m,S;e.id==i.id&&(l.value=!0,u.value=((m=e==null?void 0:e.params)==null?void 0:m.title)??"Untitled",a=((S=e==null?void 0:e.params)==null?void 0:S.callback)??null,setTimeout(()=>{var t;n.value=!0,p("init",{title:u.value,data:(t=e==null?void 0:e.params)==null?void 0:t.data})},1),document.body.style.overflow="hidden",document.onkeydown=t=>{(t.key=="Escape"||t.key=="Esc"&&n.value)&&(t.preventDefault(),C.close(i.id))})},r=e=>{e.id==i.id&&(n.value=!1,setTimeout(()=>{l.value=!1},250),document.onkeydown=()=>{},document.body.style.overflow="auto")},B=e=>{u.value=e.title},z=e=>{a==null||a.call(this,e.data)};return V(()=>{f.on("__show_modal",k),f.on("__close_modal",r),f.on("__set_modal_title",B),f.on("__callback_modal",z)}),{modal:C,preShow:l,show:n,title:u,onClose:r,iconX:o}}},U={class:"modal-content"},X={class:"modal-title"},M={class:"modal-action"},R=["icon-tooltip","onClick"];function j(i,p,n,l,u,x){const b=I;return s(),c(v,null,[d("div",{class:_(["modal fade",{show:l.show}]),tabindex:"-1",style:F({display:l.preShow?"block":"none"})},[d("div",{class:_(["modal-dialog modal-dialog-centered",`modal-${n.size}`]),role:"document"},[d("div",U,[n.headerless?y("",!0):(s(),c("div",{key:0,class:_(["modal-header bg-white",{"border-0":!n.elevation}])},[d("h5",X,N(l.title),1),d("div",M,[d("ul",null,[(s(!0),c(v,null,T([...n.actions,{icon:l.iconX,type:"close"}],(o,a)=>(s(),c(v,null,[(o==null?void 0:o.visible)??!0?(s(),c("li",{key:a,"icon-tooltip":o==null?void 0:o.tooltip,class:_([o!=null&&o.disabled?"disabled opacity-50":""]),onClick:k=>{var r;return(o==null?void 0:o.type)=="close"?l.modal.close(n.id):(r=o==null?void 0:o.click)==null?void 0:r.call(null,{...o,index:a})}},[q(b,{icon:o==null?void 0:o.icon},null,8,["icon"])],10,R)):y("",!0)],64))),256))])])],2)),D(i.$slots,"default",{},void 0,!0)])],2)],6),l.preShow?(s(),c("div",{key:0,class:_(["modal-backdrop fade",{show:l.show}])},null,2)):y("",!0)],64)}const H=E(L,[["render",j],["__scopeId","data-v-6b8370dc"]]);export{H as _};
