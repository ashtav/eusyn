import{O as I,z as G,r as M,k as D,u as E,o as H,E as J,A as X,_ as Z,a as f,c as b,n as B,t as T,m as V,d as R,e as x,P as ee,Q as te,F as ne,b as le,p as ae,i as oe}from"./BRK7ou47.js";let L;const se=(e,o,p,a,w,t)=>{var k,n;if(L=a,t=t.map(h=>h.split(":")[0]),t.includes("currency")&&w.length>=(p.maxLength==null?16:p.maxLength)&&a.preventDefault(),t.includes("phone")&&w.length>=(p.maxLength==null?15:p.maxLength)&&a.preventDefault(),(t.includes("numeric")||t.includes("currency"))&&(a.keyCode<48||a.keyCode>57)&&a.preventDefault(),t.includes("decimal")){const h=a.key,C=".";if(["Backspace","Delete","ArrowLeft","ArrowRight","Tab","Enter"].includes(h))return;const r=h===C,d=/^[0-9]$/.test(h),y=a.target.value,S=r&&y.length===0,m=y.includes(C);!d&&!(r&&!S&&!(r&&m))&&a.preventDefault()}else t.includes("alphanumeric")?(a.keyCode<48||a.keyCode>57)&&(a.keyCode<65||a.keyCode>90)&&(a.keyCode<97||a.keyCode>122)&&a.keyCode!=32&&a.keyCode!=46&&a.preventDefault():t.includes("alpha")?(a.keyCode<65||a.keyCode>90)&&(a.keyCode<97||a.keyCode>122)&&a.keyCode!=32&&a.preventDefault():t.includes("phone")&&(a.keyCode<48||a.keyCode>57)&&a.keyCode!=43&&a.keyCode!=45&&a.preventDefault();a.keyCode==13&&((n=(k=e==null?void 0:e.vnode)==null?void 0:k.props)!=null&&n.onEnter)&&o("enter",w)},ie=(e,o,p,a,w)=>{let t=p;e.forEach(k=>{const n=k.split(":");switch(n[0]){case"lower":t=t.toLowerCase();break;case"upper":t=t.toUpperCase();break;case"ucwords":t=I.ucwords(t);break;case"ucfirst":t=I.ucfirst(t);break;case"alpha":t=I.alpha(t);break;case"numeric":t=I.numeric(t).toString();break;case"alphanumeric":t=I.alphanumeric(t);break;case"currency":const C=n.length==1?",":n[1];t=I.currency(t,C),t.slice(0,1)=="0"&&t.length>1&&(t=t.substring(1));break;case"decimal":t=t.replace(/[^0-9.]/g,"");const r=t.indexOf(".");r!==-1&&(t=t.substring(0,r+1)+t.substring(r+1).replace(/\./g,"")),t.startsWith(".")&&(t=t.substring(1));const d=t.split(".");d[0]=d[0].replace(/\B(?=(\d{3})+(?!\d))/g,","),d.length>1?t=d[0]+"."+d[1]:t=d[0];break;case"hashtag":{if(t.trim()=="")return;if((L==null?void 0:L.inputType)=="deleteContentBackward"&&t.slice(-1)=="#"){t=t.substring(0,t.length-2);return}if(t.slice(-1)=="#"){t=t.substring(0,t.length-1);return}t.replace(/#/g,"").includes(" ")?t=t.replace(/[#,]/g,"").split(" ").map(m=>m.length>0?"#"+m:m).join(" "):t="#"+t.replace(/#/g,"")}break}}),w(t)},ue=G({inheritAttrs:!1,emits:["update:modelValue","enter","focus","suffix","event"],props:{modelValue:{default:"",type:[Number,String]},label:{type:String,default:null},hint:{type:String,default:null},type:{type:String,default:"text"},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},required:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},maxLength:{type:Number,default:null},prefix:{type:String,default:null},suffix:{type:Array,default:()=>[]},password:{type:Boolean,default:!1},minDate:{type:String,default:null},maxDate:{type:String,default:null},formatters:{type:String,default:""},mask:{type:String,default:null}},setup(e,{emit:o}){var K;const p=()=>e.password?"password":["range"].includes(e.type)?"text":e.type,t=((K=J().public.ui)==null?void 0:K.icon)=="tabler",k=t?"ti-eye":"hgi-view",n=t?"ti-eye-off":"hgi-view-off",h=X(),C=M(null),r=M(e.modelValue),d=M(p()),y=M(e.suffix),S=M(!0);let m=null;const q=l=>{r.value=l.target.value},A=()=>{let i=r.value.toString().split("/").join("/").indexOf("_");i!==-1&&setTimeout(()=>{m.setSelectionRange(i,i)},1)},z=l=>{e.mask&&e.mask.split(":")[0]=="date"&&A()},_=l=>{m=l.target,o("focus",!0),e.mask&&A()},U=l=>{o("focus",!1)},Q=l=>{if(l!=null&&l._toggle){const s=y.value.findIndex(i=>i._toggle);S.value=!S.value,y.value[s]={icon:S.value?k:n,_toggle:!0}}o("suffix",l)},P=l=>{const s=y.value;if(d.value=l?"password":e.type,S.value=l,l){s.findIndex(g=>g._toggle)==-1&&y.value.push({icon:k,_toggle:!0});return}y.value=s.filter(i=>!i._toggle)},W=l=>{se(h,o,e,l,r.value,e.formatters.split("|"))},N=()=>{const l=e.mask.split(":");let s="y/m/d",i={y:"____",d:"__",m:"__"};if(l.length>1){let c=l[1];const u=c.includes("d"),v=c.includes("m"),j=c.includes("y");u&&v&&j&&(s=l[1])}return s.split("/").map(c=>i[c]).join("/")},Y=(l,s)=>{const i=l.split("/"),g=s.split("/");let c=parseInt(i[g.indexOf("d")],10),u=parseInt(i[g.indexOf("m")],10);const v=parseInt(i[g.indexOf("y")],10);u=Math.min(Math.max(u,1),12);const j=new Date(v,u,0).getDate();return c=Math.min(Math.max(c,1),j),g.map(O=>{if(O==="d")return c.toString().padStart(2,"0");if(O==="m")return u.toString().padStart(2,"0");if(O==="y")return v.toString()}).join("/")},$=()=>{e.mask&&e.mask.split(":")[0]=="date"&&(r.value=N())},F=()=>{C.value&&setTimeout(()=>{C.value.focus()},10)};return D(()=>e.type,()=>{d.value=p()}),D(()=>e.password,l=>{P(l)}),D(()=>e.suffix,l=>{y.value=l,P(e.password)},{immediate:!0}),D(()=>e.modelValue,l=>{r.value=l}),D(()=>S.value,l=>{d.value=l?"password":"text"}),D(()=>r.value,l=>{if(e.mask){let s=N().split(""),i=E.numeric(l.toString()).toString(),g=0,c=i.length;for(let u=0;u<c;u++)s[u]==="/"&&c++;for(let u=0;u<s.length&&g<i.length;u++)s[u]==="_"&&(s[u]=i[g],g++);if(r.value=s.join(""),setTimeout(()=>{m==null||m.setSelectionRange(c,c)},5),!s.includes("_")){const u=e.mask.split(":");let v=u.length>1?u[1]:"y/m/d";o("update:modelValue",Y(r.value,v))}return}ie(e.formatters.split("|"),o,l.toString(),e.type,s=>{o("update:modelValue",s)})}),D(()=>e.mask,()=>$()),D(()=>e.autofocus,()=>{e.autofocus&&F()}),H(()=>{P(e.password),$(),d.value=p(),e.autofocus&&F()}),{utils:E,localValue:r,inputType:d,inputSuffix:y,input:C,onInput:q,onFocus:_,onBlur:U,onMouseDown:z,onSuffix:Q,onKeyPress:W,doFocus:F,isTabler:t}}}),re={class:"input-icon"},de={key:0,class:"input-icon-addon"},ce=["value","type","placeholder","maxlength","required","disabled","readonly","min","max","autofocus","icon"],pe={key:2,class:"suffix"},ye=["onClick"],me={key:0},ge={key:3,class:"t-tip"};function fe(e,o,p,a,w,t){const k=oe;return f(),b("div",{class:B(["input",e.utils.on(e.disabled,"disabled")])},[e.label?(f(),b("label",{key:0,class:B(["form-label",e.utils.on(e.required,"required")])},T(e.label),3)):V("",!0),R("div",re,[e.prefix?(f(),b("span",de,[x(k,{icon:e.prefix,size:"input-prefix"},null,8,["icon"])])):V("",!0),["date"].includes(e.inputType)&&(e.localValue==""||e.localValue==null)?(f(),b("div",{key:1,class:B(["date-input-placeholders",e.utils.on(!["",null].includes(e.prefix),"has-prefix"),e.utils.on(e.disabled,"disabled")])}," ----/--/-- ",2)):V("",!0),R("input",{value:e.localValue,type:e.inputType,class:B(["form-control"]),placeholder:e.hint,maxlength:e.maxLength,required:e.required,disabled:e.disabled,readonly:"readonly"in e?e.readonly:ee(te),min:e.minDate,max:e.maxDate,autofocus:e.autofocus,name:"input",autocomplete:"off",onFocus:o[0]||(o[0]=(...n)=>e.onFocus&&e.onFocus(...n)),onBlur:o[1]||(o[1]=(...n)=>e.onBlur&&e.onBlur(...n)),onInput:o[2]||(o[2]=(...n)=>e.onInput&&e.onInput(...n)),onKeypress:o[3]||(o[3]=(...n)=>e.onKeyPress&&e.onKeyPress(...n)),onMousedown:o[4]||(o[4]=(...n)=>e.onMouseDown&&e.onMouseDown(...n)),ref:"input",icon:e.isTabler?"tabler":"huge"},null,40,ce),e.inputSuffix.length!=0&&!["date"].includes(e.type)?(f(),b("div",pe,[(f(!0),b(ne,null,le(e.inputSuffix,(n,h)=>(f(),b("span",{key:h,class:B(["suffix-item",e.utils.on(n.disabled,"disabled")]),onClick:C=>e.onSuffix(n)},[n!=null&&n.kbd&&(n!=null&&n.text)?(f(),b("kbd",me,T(n.text),1)):n!=null&&n.text?(f(),b("span",{key:1,class:B(n==null?void 0:n.class)},T(n.text),3)):n!=null&&n.icon&&!(n!=null&&n.text)?(f(),ae(k,{key:2,icon:n==null?void 0:n.icon},null,8,["icon"])):V("",!0),n.tooltip?(f(),b("span",ge,T(n.tooltip),1)):V("",!0)],10,ye))),128))])):V("",!0)])],2)}const be=Z(ue,[["render",fe],["__scopeId","data-v-049f955e"]]);export{be as _,ie as f,se as h};
