import{r as y,q as E,U as r,V as B,L as N,_ as O,o as t,c,a as s,u as _,y as T,z as v,t as q,F as m,s as D,b as F,A as I,B as L,C as U}from"./UsF_q1Ol.js";const X={inheritAttrs:!1,emits:["init","onClose"],props:{id:{type:String,required:!0},size:{type:String,default:"md"},elevation:{type:Boolean,default:!0},icon:{type:String,default:null},actions:{type:Array,default:[]},headerless:{type:Boolean,default:!1}},setup(d,{emit:b}){var C;const l=y(!1),n=y(!1),k=y(!1),i=y(""),f=((C=N().public.ui)==null?void 0:C.icon)=="tabler"?"ti-x":"hgi-cancel-01";let u;const h=e=>{var S,x;e.id==d.id&&(n.value=!0,i.value=((S=e==null?void 0:e.params)==null?void 0:S.title)??"Untitled",u=((x=e==null?void 0:e.params)==null?void 0:x.callback)??null,setTimeout(()=>{var a;l.value=!0,b("init",{title:i.value,data:(a=e==null?void 0:e.params)==null?void 0:a.data})},1),document.body.style.overflow="hidden",document.onkeydown=a=>{(a.key=="Escape"||a.key=="Esc"&&l.value)&&(a.preventDefault(),B.close(d.id))})},z=e=>{k.value=e.show},p=e=>{e.id==d.id&&(l.value=!1,setTimeout(()=>{n.value=!1},250),document.onkeydown=()=>{},document.body.style.overflow="auto")},V=e=>{i.value=e.title},A=e=>{u==null||u.call(this,e.data)};return E(()=>{r.on("__show_modal",h),r.on("__close_modal",p),r.on("__set_modal_title",V),r.on("__callback_modal",A),r.on("__show_confirm",z)}),{modal:B,preShow:n,show:l,title:i,onClose:p,iconX:f,isConfirmOpen:k}}},M={class:"modal-content"},R={class:"modal-title text-truncate"},j={class:"modal-action"},G=["icon-tooltip","onClick"];function H(d,b,l,n,k,i){const w=U;return t(),c(m,null,[s("div",{class:_(["modal fade",{show:n.show&&!n.isConfirmOpen}]),tabindex:"-1",style:L({display:n.preShow?"block":"none"})},[s("div",{class:_(["modal-dialog modal-dialog-centered",`modal-${l.size}`]),role:"document"},[s("div",M,[l.headerless?v("",!0):(t(),c("div",{key:0,class:_(["modal-header bg-white",{"border-0":!l.elevation}])},[l.icon?(t(),T(w,{key:0,icon:`${l.icon} fix-1 me-2`},null,8,["icon"])):v("",!0),s("h5",R,q(n.title),1),s("div",j,[s("ul",null,[(t(!0),c(m,null,D([...l.actions,{icon:n.iconX,type:"close"}],(o,f)=>(t(),c(m,null,[(o==null?void 0:o.visible)??!0?(t(),c("li",{key:f,"icon-tooltip":o==null?void 0:o.tooltip,class:_([o!=null&&o.disabled?"disabled opacity-50":""]),onClick:u=>{var h;return(o==null?void 0:o.type)=="close"?n.modal.close(l.id):(h=o==null?void 0:o.click)==null?void 0:h.call(null,{...o,index:f})}},[F(w,{icon:o==null?void 0:o.icon},null,8,["icon"])],10,G)):v("",!0)],64))),256))])])],2)),I(d.$slots,"default",{},void 0,!0)])],2)],6),n.preShow?(t(),c("div",{key:0,class:_(["modal-backdrop fade",{show:n.show&&!n.isConfirmOpen}])},null,2)):v("",!0)],64)}const K=O(X,[["render",H],["__scopeId","data-v-3789572a"]]);export{K as _};
