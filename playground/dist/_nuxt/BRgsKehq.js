import{C as z,r as u,k as F,o as A,u as X,M as D,H,_ as R,a,c as r,n as b,t as I,m as h,d as f,e as j,p as G,F as J,b as Q,i as U}from"./B2QH7UNX.js";import{t as d}from"./CczvJgXj.js";const W=z({inheritAttrs:!1,emits:["update:modelValue","enter","change","focus"],props:{modelValue:{default:"",type:[Number,String]},label:{type:String,default:null},hint:{type:String,default:null},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},prefix:{type:String,default:null},suffix:{type:String,default:null},options:{type:Array,default:()=>[]}},setup(e,{emit:o,attrs:q}){var B;const S=((B=D().public.ui)==null?void 0:B.icon)=="tabler",g=S?"ti-x":"hgi-cancel-01",s=S?"ti-chevron-down":"hgi-arrow-down-01",p=H(),l=u(e.modelValue),v=u(e.options),i=u(null),C=u(!1),c=u(!1),m=u(null),T=u(null);u(["",null]),u(e.modelValue);const N=n=>{l.value=n.target.value,v.value=e.options.filter(t=>d(t).toLowerCase().includes(l.value.toString().toLowerCase())),c.value||(c.value=!0)},K=n=>{c.value=!0,o("focus",!0),setTimeout(()=>{const t=document.querySelector(".select .options li.selected");t&&t.scrollIntoView({block:"center"})},1)},M=()=>{l.value=d(i.value),o("focus",!1),setTimeout(()=>{c.value=!1,v.value=e.options},1)},V=n=>{l.value=d(n),i.value=n,o("update:modelValue",d(n,!0)),o("change",n)},E=n=>{var t,y;if(n.keyCode==13&&((y=(t=p==null?void 0:p.vnode)==null?void 0:t.props)!=null&&y.onEnter)){const L=v.value;setTimeout(()=>{l.value!=d(i.value)&&L.length!=0&&l.value!=""&&(V(L[0]),m.value.blur())},10),o("enter",l.value),c.value=!1}},P=()=>{if(!i.value)return m.value.focus();i.value=null,l.value="",o("update:modelValue",""),o("change",null)},k=()=>{setTimeout(()=>{const n=e.modelValue,t=e.options.find(y=>`${d(y,!0)}`.toLowerCase()==`${n}`.toLowerCase());if(t){i.value=t,l.value=d(t);return}i.value=null,l.value=""},10)},w=()=>{e.autofocus&&m.value&&setTimeout(()=>{m.value.focus()},10)};return F(()=>e.modelValue,n=>{k()}),F(()=>e.options,n=>{v.value=n,k()}),A(()=>{k(),w()}),{utils:X,labelInput:l,localOptions:v,selected:i,isFocus:c,refSelect:m,refOption:T,isLoading:C,iconX:g,iconChevron:s,onInput:N,onFocus:K,onBlur:M,onSelect:V,onKeyPress:E,onSuffix:P,textOption:d,doFocus:w,setLoading:n=>{C.value=n}}}}),Y={class:"input-icon"},Z={key:0,class:"input-icon-addon"},_=["value","placeholder","required","disabled","autofocus"],x={class:"suffix"},ee={key:0,class:"spinner-border spinner-border-sm"},oe={key:1,class:"options"},ne={ref:"refOption"},se=["onMousedown"],le={key:0,class:"text-muted pe-none"};function te(e,o,q,O,$,S){const g=U;return a(),r("div",{class:b(["select",e.utils.on(e.disabled||e.isLoading,"disabled")])},[e.label?(a(),r("label",{key:0,class:b(["form-label",e.utils.on(e.required,"required")])},I(e.label),3)):h("",!0),f("div",Y,[e.prefix?(a(),r("span",Z,[j(g,{icon:e.prefix,size:"input-prefix"},null,8,["icon"])])):h("",!0),f("input",{ref:"refSelect",value:e.labelInput,class:b(["form-control",e.utils.on(e.isFocus,"has-focus")]),placeholder:e.hint,maxlength:255,required:e.required,disabled:e.disabled||e.isLoading,autofocus:e.autofocus,name:"select",autocomplete:"off",onInput:o[0]||(o[0]=(...s)=>e.onInput&&e.onInput(...s)),onFocus:o[1]||(o[1]=(...s)=>e.onFocus&&e.onFocus(...s)),onBlur:o[2]||(o[2]=(...s)=>e.onBlur&&e.onBlur(...s)),onKeypress:o[3]||(o[3]=(...s)=>e.onKeyPress&&e.onKeyPress(...s))},null,42,_),f("div",x,[f("span",{onClick:o[4]||(o[4]=(...s)=>e.onSuffix&&e.onSuffix(...s))},[e.isLoading?(a(),r("i",ee)):(a(),G(g,{key:1,icon:e.selected?e.iconX:e.suffix??e.iconChevron},null,8,["icon"]))])]),e.isFocus?(a(),r("div",oe,[f("ul",ne,[(a(!0),r(J,null,Q(e.localOptions,(s,p)=>(a(),r("li",{key:p,class:b({selected:s==e.selected}),onMousedown:l=>e.onSelect(s)},[f("span",null,I(e.textOption(s)),1)],42,se))),128)),e.localOptions.length==0?(a(),r("li",le," Not found. ")):h("",!0)],512)])):h("",!0)])],2)}const de=R(W,[["render",te],["__scopeId","data-v-a387d837"]]);export{de as _};
